#!/bin/bash

#SBATCH --partition=gpu_h100
#SBATCH --gpus=1
#SBATCH --job-name=check_gpu
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=9
#SBATCH --time=00:05:00
#SBATCH --output=jobs/logs/check_gpu_%A.log

module purge
module load 2024
module load Anaconda3/2024.06-1

# Initialize and activate your Conda environment
source "$HOME/miniconda3/etc/profile.d/conda.sh"
conda activate thesis_env   # ‚Üê replace with your env name or path if needed

echo "===== System-level GPU info (nvidia-smi) ====="
nvidia-smi

echo "===== PyTorch-level GPU availability ====="
python -c "import torch; print('GPU available?', torch.cuda.is_available())"
